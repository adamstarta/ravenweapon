{% sw_extends '@Storefront/storefront/layout/footer/footer.html.twig' %}

{% block layout_footer %}
<footer class="raven-footer mt-12 border-t border-gray-200 bg-white">
    {# Feature Highlights #}
    <div class="raven-footer-features">
        <div class="container py-8">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                {# Swiss Quality #}
                <div class="flex items-start gap-3 rounded-md border border-gray-200 bg-white p-4">
                    <span class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-red-600 text-white overflow-hidden">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" class="w-full h-full" aria-hidden="true">
                            <rect width="32" height="32" fill="#FF0000"/>
                            <path d="M13 6h6v7h7v6h-7v7h-6v-7H6v-6h7V6z" fill="white"/>
                        </svg>
                    </span>
                    <div>
                        <div class="font-semibold text-gray-900">{{ "raven.footer.swissQuality"|trans|sw_sanitize|default('Schweizer Qualität') }}</div>
                        <div class="text-sm text-gray-600">{{ "raven.footer.swissQualityDesc"|trans|sw_sanitize|default('Produktion in Luzern') }}</div>
                    </div>
                </div>

                {# Best Prices #}
                <div class="flex items-start gap-3 rounded-md border border-gray-200 bg-white p-4">
                    <span class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-gray-800 text-white">
                        {% sw_icon 'tags' style { 'size': 'sm' } %}
                    </span>
                    <div>
                        <div class="font-semibold text-gray-900">{{ "raven.footer.bestPrices"|trans|sw_sanitize|default('Beste Preise') }}</div>
                        <div class="text-sm text-gray-600">{{ "raven.footer.bestPricesDesc"|trans|sw_sanitize|default('Direktverkauf = tiefe Preise') }}</div>
                    </div>
                </div>

                {# Fast Shipping #}
                <div class="flex items-start gap-3 rounded-md border border-gray-200 bg-white p-4">
                    <span class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-gray-800 text-white">
                        {% sw_icon 'package' style { 'size': 'sm' } %}
                    </span>
                    <div>
                        <div class="font-semibold text-gray-900">{{ "raven.footer.fastShipping"|trans|sw_sanitize|default('Versand heute') }}</div>
                        <div class="text-sm text-gray-600">{{ "raven.footer.fastShippingDesc"|trans|sw_sanitize|default('Mo–Fr, bis 19:20 Uhr bestellt') }}</div>
                    </div>
                </div>

                {# Phone Support #}
                <div class="flex items-start gap-3 rounded-md border border-gray-200 bg-white p-4">
                    <span class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-gray-800 text-white">
                        {% sw_icon 'phone' style { 'size': 'sm' } %}
                    </span>
                    <div>
                        <div class="font-semibold text-gray-900">{{ config('core.basicInformation.phone')|default('+41 79 356 19 86') }}</div>
                        <div class="text-sm text-gray-600">{{ "raven.footer.phoneDesc"|trans|sw_sanitize|default('frei, freundlich, kompetent') }}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {# Newsletter Gold Bar #}
    <div class="raven-newsletter-bar bg-gradient-to-r from-yellow-300 via-amber-400 to-yellow-500">
        <div class="container py-6 md:py-8">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                <div class="flex items-center gap-3">
                    <span class="inline-flex h-10 w-10 items-center justify-center rounded-md bg-black/70 text-white">
                        {% sw_icon 'mail' style { 'size': 'md' } %}
                    </span>
                    <div>
                        <div class="text-xl md:text-2xl font-semibold text-black raven-font-heading">Newsletter</div>
                        <div class="text-black/80 text-sm">{{ "raven.newsletter.subtitle"|trans|sw_sanitize|default('Jetzt anmelden und profitieren') }}</div>
                    </div>
                </div>
                {% block layout_footer_newsletter %}
                    {% sw_include '@Storefront/storefront/layout/footer/footer-newsletter.html.twig' ignore missing %}
                {% endblock %}
                {# Fallback simple newsletter form #}
                <div class="flex rounded-md overflow-hidden shadow-sm">
                    <input type="email"
                           id="newsletter-email-footer"
                           placeholder="{{ "raven.newsletter.placeholder"|trans|sw_sanitize|default('Ihre E-Mail') }}"
                           class="w-full md:w-[420px] px-4 py-2 text-gray-900 placeholder-gray-600 bg-white outline-none">
                    <button type="button"
                            onclick="window.location.href='/newsletter'"
                            class="px-4 md:px-6 py-2 bg-black text-white font-semibold hover:bg-gray-800 transition-colors">
                        {{ "raven.newsletter.subscribe"|trans|sw_sanitize|default('Abonnieren') }}
                    </button>
                </div>
            </div>
        </div>
    </div>

    {# Footer Links #}
    <div class="container py-10">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            {# Brand Column #}
            <div>
                <h3 class="text-sm font-semibold text-gray-900 tracking-wide mb-3">{{ "raven.footer.brandTitle"|trans|sw_sanitize|default('DIE MARKE') }}</h3>
                <p class="text-gray-700 text-sm">{{ config('core.basicInformation.shopName')|default('RAVEN WEAPON AG') }}</p>
                <p class="text-gray-700 text-sm mt-2">{{ "raven.footer.brandDesc"|trans|sw_sanitize|default('Höchste Qualität') }}</p>
            </div>

            {# Company Column #}
            <div>
                <h3 class="text-sm font-semibold text-gray-900 tracking-wide mb-3">{{ "raven.footer.companyTitle"|trans|sw_sanitize|default('DAS UNTERNEHMEN') }}</h3>
                <ul class="text-sm text-gray-700 space-y-1">
                    <li>{{ config('core.basicInformation.shopName')|default('Raven Weapon AG') }}</li>
                    <li>{{ config('core.basicInformation.address.street')|default('Sunnenbergstrasse 2') }}</li>
                    <li>{{ config('core.basicInformation.address.zipcode')|default('8633') }} {{ config('core.basicInformation.address.city')|default('Wolfhausen') }}</li>
                    <li><a href="mailto:{{ config('core.basicInformation.email')|default('info@ravenweapon.ch') }}" class="hover:text-gray-900">{{ config('core.basicInformation.email')|default('info@ravenweapon.ch') }}</a></li>
                    <li><a href="tel:{{ config('core.basicInformation.phone')|default('+41793561986') }}" class="hover:text-gray-900">{{ config('core.basicInformation.phone')|default('+41 79 356 19 86') }}</a></li>
                </ul>
            </div>

            {# Useful Links Column #}
            <div>
                <h3 class="text-sm font-semibold text-gray-900 tracking-wide mb-3">{{ "raven.footer.linksTitle"|trans|sw_sanitize|default('NÜTZLICHE LINKS') }}</h3>
                <ul class="text-sm text-gray-700 space-y-2">
                    {% for item in page.footer %}
                        <li><a href="{{ seoUrl('frontend.cms.page', { id: item.id }) }}" class="hover:text-gray-900">{{ item.translated.name }}</a></li>
                    {% endfor %}
                    <li><a href="{{ path('frontend.cms.page', { id: 'contact' }) }}" class="hover:text-gray-900">{{ "footer.contactLink"|trans|sw_sanitize }}</a></li>
                    <li><a href="{{ path('frontend.cms.page', { id: 'shipping' }) }}" class="hover:text-gray-900">{{ "footer.shippingLink"|trans|sw_sanitize|default('Versand') }}</a></li>
                </ul>
            </div>

            {# Categories Column #}
            <div>
                <h3 class="text-sm font-semibold text-gray-900 tracking-wide mb-3">{{ "raven.footer.categoriesTitle"|trans|sw_sanitize|default('BELIEBTE KATEGORIEN') }}</h3>
                <ul class="text-sm text-gray-700 space-y-2">
                    {% for treeItem in page.header.navigation.tree %}
                        <li>
                            <a href="{{ seoUrl('frontend.navigation.page', { navigationId: treeItem.category.id }) }}" class="hover:text-gray-900">
                                {{ treeItem.category.translated.name }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        {# Social Links #}
        <div class="mt-6 flex items-center gap-4 text-gray-600">
            {% if config('core.basicInformation.instagram') %}
                <a href="{{ config('core.basicInformation.instagram') }}" aria-label="Instagram" class="h-9 w-9 inline-flex items-center justify-center rounded-full border border-gray-300 hover:bg-gray-100" target="_blank" rel="noopener">
                    {% sw_icon 'brand-instagram' style { 'size': 'sm' } %}
                </a>
            {% endif %}
            {% if config('core.basicInformation.youtube') %}
                <a href="{{ config('core.basicInformation.youtube') }}" aria-label="YouTube" class="h-9 w-9 inline-flex items-center justify-center rounded-full border border-gray-300 hover:bg-gray-100" target="_blank" rel="noopener">
                    {% sw_icon 'brand-youtube' style { 'size': 'sm' } %}
                </a>
            {% endif %}
            {% if config('core.basicInformation.whatsapp') %}
                <a href="https://wa.me/{{ config('core.basicInformation.whatsapp') }}" aria-label="WhatsApp" class="h-9 w-9 inline-flex items-center justify-center rounded-full border border-gray-300 hover:bg-gray-100" target="_blank" rel="noopener">
                    {% sw_icon 'brand-whatsapp' style { 'size': 'sm' } %}
                </a>
            {% endif %}
        </div>
    </div>

    {# Copyright Bar #}
    <div class="border-t border-gray-200">
        <div class="container py-6 text-sm text-gray-500 text-center">
            &copy; {{ "now"|date("Y") }} {{ config('core.basicInformation.shopName')|default('RAVEN WEAPON AG') }}. {{ "footer.copyrightInfo"|trans|sw_sanitize|default('Alle Rechte vorbehalten.') }}
        </div>
    </div>
</footer>
{% endblock %}
